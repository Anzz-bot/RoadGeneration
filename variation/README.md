Variation Tool
========

The Variation tool is used to (randomly) generate a multitude of slightly different scenarios based on the same general road network. A template file is provided to specify all variables aswell as the general road network structure. 

Installation
--------

Run the install script from the project's root directory. __On Windows__  you need to have a visual studio compiler installed.

	 $install-variation.sh

Alternatively you can install the module directly from the wheel.

	$pip3 install variation/wheel/roadvariation-0.1-py3-none-any.whl

Usage
--------
The tool can be accessed via the command line:

	$variation -fname <filename> 

__On Windows:__ 

	$python -m variation -fname <filename> 
	
A variety of parameters and flaggs can be specified:

- `-fname ` `<input file path>` input template file
- `-n` `<integer>` number of generated outputs
- `-o` `<string>` output file name
- `-e` `<file path>` generate an example template file to location 
- `-h --help` display the help message
- `-k` keep the inetmediate `.xml` output files
- `-s` run the roadgen lib in silent mode	


Template File
---------------

The template file is structured similarly to .xml file for the  road-generation tool, with the addition of the ` <vars> ... </vars>` tag, which cointains variables that will be generated.


```xml
<vars>
	<var id="transDepVar" type="lindep" dp="depVar/2" /> 
	<var id="depVar" type="lindep" dp="uniformVar*0.3 + normalVar" />        
	<var id="uniformVar" type="uniform" min="100" max="150" />        
	<var id="normalVar" type="normal" mu="1.57" sd="0.12" />     
</vars>
```
These variables can then be referenced by their name, surrounded by `${...} `. 
```xml
<referenceLine>
	<line length="${uniformVar}"/>
</referenceLine>
```
An example  template file can be generated by using the `-e` parameter.


Variable Types
-----------------
For each variable we need to specify an `id` and `type`attribute.  At the moment there are three types of variables that require different attributes:

- `normal`  distribution with mean value `mu` and standard deviation `sd`.
- `uniform`  distribution with a `min` and a `max` value.
- `lindep`  defines a variable that is linear dependent on other variables or constants with  a dependency  `dp` in string form.



Issues
-------
This is list of known issues with the variation tool in no particular order:

- Performance might be slow when a lot of variables are used 







	
